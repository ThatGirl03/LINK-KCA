{% extends "base.html" %}
{% block title %}Mathematics{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/sectorA.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/video.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/engineer.css') }}"/>


<div class="title-container">
    <h2 class="page-title">MATHEMATICS </h2>
</div>


<!-- Generate Podcast Buttons Container -->
<div class="generate-podcast-container">
    <button class="generate-podcast-btn" onclick="openPodcastModal()">üéôÔ∏è Generate Podcasts</button>
    <button class="view-podcast-btn" onclick="openPodcastListModal()">üéß View Generated Podcasts</button>
</div>

<!-- Podcast Generation Modal -->
<div id="podcast-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closePodcastModal()">&times;</span>
        <h2>Generate Podcast</h2>
        <p>Upload a PDF to create a podcast:</p>
        <input type="file" accept=".pdf" class="upload-input" />
        <button class="download-button">Generate Podcast</button>
    </div>
</div>

<!-- Podcast Display Modal for Showing Generated Podcasts -->
<div id="podcast-list-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closePodcastListModal()">&times;</span>
        <h2>Your Generated Podcasts</h2>
        <div id="podcast-list">
            <p id="no-podcasts-message">No Podcasts generated yet.</p>
        </div>
    </div>
</div>

<div class="video-grid-container">
    {% for video in videos %}
    <div class="video-item">
        <video width="100%" controls>
            <source src="{{ math.url }}" type="math/mp4">
            Your browser does not support the video tag.
        </video>
        <p>{{ math.name }}</p> 
    </div>
    {% endfor %}
</div>
  



<script>
    function openPodcastModal() {
        document.getElementById("podcast-modal").style.display = "flex";
    }

    function closePodcastModal() {
        document.getElementById("podcast-modal").style.display = "none";
    }

    function openPodcastListModal() {
        document.getElementById("podcast-list-modal").style.display = "flex";
    }

    function closePodcastListModal() {
        document.getElementById("podcast-list-modal").style.display = "none";
    }
</script>

<script type="text/javascript">
    (function(d, t) {
        var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
        v.onload = function() {
          window.voiceflow.chat.load({
            verify: { projectID: '6734d8807f5ae371faba6606' },
            url: 'https://general-runtime.voiceflow.com',
            versionID: 'production'
          });
        }
        v.src = "https://cdn.voiceflow.com/widget/bundle.mjs"; v.type = "text/javascript"; s.parentNode.insertBefore(v, s);
    })(document, 'script');
  </script>

{% endblock %}
